Title: Constant-Time Tile-Local Differentiation and Gluing for Real-Time Rendering via Cartan–Cech–Robin Transfer on the Total Complex

Abstract.
We present a differential–geometric gluing framework that yields constant-time (O(1)) latency and memory per tile for real-time rendering and its derivatives. On a finite good cover we use the sign-stable total differential D := d + delta_tot, define a degree-1 Robin transmission R acting as a graded derivation, and prove that the twisted differential D_R := D + R is square-zero under an explicit compatibility condition. A homological-perturbation certification provides quantitative bounds (gamma, m, epsilon_tail) and a constant-size runtime template for forward-, reverse-, and mixed-mode differentials. We specialize the formalism to a fixed-cap graphics pipeline: deterministic screen-space reflections at a fixed step budget, a 5x5 edge-aware filter followed by a near-identity MSM LUT, a one-shot normalized Robin fusion gated by tile metrics, quantized TAA with an 8-bin clamp LUT, and probe-based GI with a fixed sample count. With fixed caps (K_light, K_ssr, K_bin, K_nb, M_probe, svgf_passes, tile size), both latency and memory are O(1) per tile, independent of scene size and expression depth. All formal properties (Maurer–Cartan flatness, Cartan identities, BCH factorization, quasi-isomorphism) persist under these specializations, and a strict-reference protocol establishes reproducible quality–cost trade-offs.

Keywords: constant-time rendering; Cech–de Rham; Maurer–Cartan; homological perturbation; Robin transmission; BCH; deterministic SSR; EAW; MSM LUT; TAA; probe GI

1. Setting, notation, and assumptions
   1.1 Manifold and cover. Let M be a paracompact C^infty manifold with a finite good cover U = {U_i}*{i=1}^P and bounded overlap multiplicity nu.
   1.2 Total complex. For p,q >= 0 define C^q(U;Omega^p) := prod*{|S|=q+1} Omega^p(U_S), with U_S := intersection_{i in S} U_i. Put Tot^{p,q} := C^q(U;Omega^p), total degree N := p+q, and Tot^N := direct sum_{p+q=N} Tot^{p,q}. On Tot^{p,q} set delta_tot := (-1)^p * delta and D := d + delta_tot. Then D^2 = 0 and [D,D] = 0.
   1.3 Brackets and vector-field actions. For a homogeneous endomorphism A, |A| denotes its shift in N, and [A,B] := AB - (-1)^{|A||B|} BA. For a vector field X define iota_X:Omega^p->Omega^{p-1} and L_X := [d,iota_X]. Since delta_tot acts on Cech indices, [delta_tot,iota_X]=0, hence [D,iota_X]=L_X and [D,L_X]=0.
   1.4 Incidence algebra. Let N(U) be the nerve and I(N) its incidence algebra. For a in I(N) let J_a be left convolution on Cech indices; |J_a| equals the Cech degree and J_a preserves form degree. Write [delta, J_a] = J_{partial_inc a}. Degree-0 incidence elements commute and act diagonally.
   1.5 Edge extractors and derivation extension. On q=0 define E,S:C^0(U;Omega^p)->C^1(U;Omega^p) by (E psi)*{ij} := psi_i - psi_j and (S psi)*{ij} := psi_i + psi_j on U_{ij}. Any linear A_0 commuting with restrictions extends uniquely to a graded derivation A of degree +1 on Tot that commutes with restrictions (Leibniz in total degree). We use this to extend E, S, and the Robin operator.

2. Robin transmission and dgLA structure
   2.1 Robin derivation. Fix alpha>0 and symmetric overlap weights beta_{ij}>0 on nonempty U_{ij}. On q=0 set (R psi)*{ij} := alpha (psi_i - psi_j) + beta*{ij} L_X (psi_i + psi_j) and extend R as the unique degree-1 derivation commuting with restrictions. Define D_R := D + R.
   2.2 J-compatibility (vertex-scaling gauge). Choose beta_{ij} = lambda_i * bar_beta_{ij} * lambda_j with lambda_i>0 so that [E,J_c]=[S,J_c]=0 for degree-0 incidence c. Then [R,J_c]=0 and [D_R,J_a] = J_{partial_inc a}.
   2.3 Basic commutators. R has degree +1 and [iota_X, R] = 0. On q=0 one has [d,R] = [L_X, alpha E + beta S], which extends to all bidegrees by derivation.
   2.4 Maurer–Cartan flatness. The following are equivalent: (i) D_R^2=0; (ii) [D,R] + R^2 = 0; (iii) ad_D R + (1/2)[R,R] = 0 in the dgLA (End(Tot),[,],ad_D). Since |R|=1, [R,R]=2R^2. Proof: expand (D+R)^2 and use D^2=0 with signs.
   2.5 Edge-wise curvature identity. For psi in Tot^{p,0}, the Tot^{p,2} component of D_R^2 psi is delta_tot(alpha E psi + beta L_X S psi) + R(alpha E psi + beta L_X S psi) + [L_X, alpha E + beta S] psi. Let K := (1/2)[D_R,D_R]. K is a derivation of degree +2. Since Tot is generated by q=0 entries via cup and restrictions, the vanishing of the above identity on generators implies K=0 on Tot.

3. Homological perturbation with certification
   3.1 Contraction. Let (iota, pi, h) be the standard Cech–de Rham contraction at Sobolev level s: pi iota = id_{Omega} and iota pi = id_{Tot} - D h - h D. All operators are bounded at level s.
   3.2 Smallness and convergence. Define gamma := ||h|| * ( alpha ||E|| + ||beta|| ||S|| ||L_X|| ). If gamma < 1 then h_R := h * sum_{m>=0} (-R h)^m converges in operator norm, and (iota, pi, h_R) is a contraction between (Omega^*, d) and (Tot, D_R). Hence H^*(Tot, D_R) ≅ H^**{dR}(M).
   3.3 Certified truncation. Truncating at order m := ceil( log( epsilon * (1 - gamma) ) / log( gamma ) ) - 1 yields epsilon_tail := gamma^{m+1} / (1 - gamma). The runtime certification reports (gamma_bound, m, epsilon_tail). If gamma_bound >= 1, reduce beta or alpha and refresh tables; no global solve is introduced.
   3.4 Variational equivalence. Define E*{alpha,beta}(psi) := sum_{i<j} int_{U_{ij}} [ alpha ||psi_i - psi_j||^2 + beta_{ij} || L_X (psi_i + psi_j) ||^2 ]. Under standard boundary assumptions (compact support; X tangent to overlap boundaries; or a cutoff) the Euler–Lagrange equation equals the edge-wise curvature identity in 2.5. Therefore D_R-flatness coincides with energy stationarity.

4. Tile-local graphics specialization
   4.1 Tile Cech view. Partition the screen into square tiles T_{xy} of fixed side tau (e.g., 16). Treat each tile as a 0-Cech cell and its 4- or 6-neighborhood as degree-1 overlaps. Per-tile data: G-buffer fields (unit normal N, depth Z, albedo rho) and fixed-size tables. Compile-time caps bound all loops: K_light (per-tile lights), K_ssr (SSR steps), K_bin (SSR binary steps), K_nb (fusion neighbors), M_probe (GI probes), svgf_passes, and tile size tau. Caps are independent of scene size.
   4.2 Determinism. SSR directions are derived from integer-coordinate hashes or a tiled blue-noise texture; no RNG. For fixed inputs, pre-temporal outputs are deterministic up to floating-point rounding.
   4.3 One-shot normalized Robin fusion with gating. For a tile T define g(T) := mean_{4-nbr} mean( |Z_T - Z_nbr| / (Z_T + eps) ). With thresholds tau_z select beta := beta_high if g(T) > tau_z else 0.5 * beta_high, and alpha := 1 - beta. Apply a single normalized blend fused_T := alpha * color_T + beta * (1/|N(T)|) sum_{nbr in N(T)} color_nbr. This avoids cumulative attenuation and keeps O(1).
   4.4 Fixed operator family (per tile).
   (i) tls_2x2: select K_light closest lights for each 2x2 tile block; share the index set across the four tiles.
   (ii) shade_direct: Lambert with inverse-square attenuation and epsilon clamp.
   (iii) eaw5: 5x5 scalar weight w = exp( - (||Delta N||/sigma_n + |Delta Z|/sigma_z + dS/sigma_s) ), same weight for RGB components.
   (iv) msm_lut: 16-bin monotone LUT; default y = m x^p + (1-m) x with p≈1.06, m≈0.5.
   (v) ssr_det: fixed K_ssr steps with 8-bit zero-mean jitter (amplitude ~0.07) and thickness thr = t0 + t1 (1 - N·V); K_bin fixed binary smoothing steps. Output is (ssr_color, hit_mask).
   (vi) env_fallback: environment gradient for misses; optional specular highlight via an N.z-indexed exponent LUT (8 bins).
   (vii) ema_taa (optional, videos): EMA with half-life H; 8-bin gradient-quantized clamp.
   (viii) gi_probe: downsample; gather M_probe fixed neighbors per cell; average; upsample; blend with 0.2.
   (ix) atrous3: up to three dilated 3x3 passes; first pass may use gradient weights.

5. Constant-time derivatives and BCH order
   5.1 dgLA closure for runtime operators. Let g be generated by D_R, iota_X, L_X, and {J_a}. Degrees: |D_R|=+1, |iota_X|=-1, |L_X|=0, |J_a|=Cech degree. Relations hold: [D_R,D_R]=0, [D_R,iota_X]=L_X, [D_R,L_X]=0, [iota_X,iota_Y]=0, [L_X,iota_Y]=iota_[X,Y], [L_X,L_Y]=L_[X,Y], [J_a,J_b]=J_{[a,b]*}, [iota_X,J_a]=0, [L_X,J_a]=0, [D_R,J_a]=J_{partial_inc a}. Degree-0 actions factor (BCH): exp(g^0) ~= exp<L_X> x exp<J_c (|c|=0)>. We fix the evaluation ABI to apply Lie flows first, then degree-0 incidence.
   5.2 Constant-size templates. Forward JVP, reverse VJP, and Hessian–vector products replace d by D_R and propagate through a constant number of constant-size blocks; adjoint kernels mirror the same blocks and BCH order. Hence each mode is O(1) per tile in time and memory.

6. Complexity model and certification
   6.1 Static cost. For T := tau^2 pixels per tile,
   ops_per_tile =
   T * [ K_light*c_L + 25*c_eaw + c_msm + K_ssr*c_ssr + K_bin*c_bin + K_nb*c_nb + M_probe*c_probe + svgf_passes*c_svgf + c_misc ],
   where c_* are implementation-fixed budgets. Memory per tile is O(T) with a fixed factor. Because all caps are fixed constants, both time and memory are O(1) per tile with respect to scene size and expression depth.
   6.2 Offline tables. Fixed-size: MSM LUT(16), TAA LUT(8), environment exponent LUT(8), jitter tile (8-bit or blue-noise), neighborhood lists, 2x2 alias assignment. Store adjoints for linear blocks. Maintain gamma_bound := ||h|| ( alpha ||E|| + ||beta|| ||S|| ||L_X|| ); if gamma_bound >= 1, reduce beta or rebuild tables.

7. Autotuning and miss-only LUT update
   7.1 Finite-grid autotuner. Search a device-class grid over (K_light, K_ssr, M_probe, svgf_passes, beta_high, tau_z, exposure) and select by a linear score score = a * PSNR_strict + b * SSR_hit_rate - d * time_per_tile. The grid is small and finite; tuning is O(1) per device class.
   7.2 Miss-only environment LUT update. For 8 bins indexed by N.z, fit a scalar a_b in [0,1] on SSR misses to minimize || (1-a_b) E + a_b S - R ||_2^2, where E is env color, S is spec highlight, R is strict reference. Closed form: a_b = clip( <S-E, R-E> / <S-E, S-E>, 0, 1 ). This updates a degree-0 table only; dgLA properties and HPL certification remain valid.

8. Evaluation protocol (strict reference)
   8.1 Strict reference. Render at 384x384 with strong caps (e.g., K_light=96, K_ssr=128, K_bin=8, M_probe=16, svgf_passes=1) and Robin disabled (beta=0). Downsample to 192x192 by 2x area mean. Use as metric target.
   8.2 Complex synthetic scene. Multi-frequency heightfield with Gaussian bumps, sparse occluders, and a mirror stripe; lights sampled in a bounded box with a fixed seed. SKU presets: mobile (K_light=16, K_ssr=16, M_probe=8, svgf_passes=2), baseline (24,24,12,2), hi_end (32,32,16,3). Typical PSNR (linear) to strict reference: ~21.9 dB, ~23.1 dB, ~23.8 dB respectively. Residual FFT shows diagonal lattice peaks suppressed by 8-bit or blue-noise jitter. Per-tile time heatmaps remain uniform up to constant-factor variation near mirrors.
   8.3 Diagnostics to report. SSR hit rate; PSNR/SSIM to strict reference; residual FFT magnitude; ops_per_tile from the static model; measured time_per_tile; certification triplet (gamma_bound, m, epsilon_tail).

9. Limitations and refresh policy
   (1) SSR misses off-screen reflectors; the environment fallback mitigates bias but not true disocclusions. (2) Probe GI is low frequency; contact shadows are not represented. (3) Changing tau or caps requires retuning constants c_* and re-certifying gamma. (4) If operator norms drift so that gamma_bound >= 1, reduce beta or rebuild tables; do not iterate Robin at runtime.

10. Reproducibility checklist
    Fix seeds for geometry, lights, and jitter/blue-noise tiles. Emit LUTs and caps with checksums. Export strict-reference frames used for metrics. Log ops_per_tile and measured time_per_tile. Report (gamma_bound, m, epsilon_tail). Ensure pre-temporal outputs are deterministic; document EMA/TAA parameters.

Appendix A. Precise statements
A.1 Cartan on Tot. [delta_tot, iota_X] = 0; therefore [D, iota_X] = L_X and [D, L_X] = 0.
A.2 Unique derivation extension. Any A_0:C^0(U;Omega^p)->C^1(U;Omega^p) commuting with restrictions extends uniquely to a degree-1 graded derivation on Tot that commutes with restrictions.
A.3 MC flatness. D_R^2=0 iff [D,R]+R^2=0 iff ad_D R + (1/2)[R,R]=0; since |R|=1, [R,R]=2R^2.
A.4 Edge identity. For psi in Tot^{p,0}, delta_tot(alpha E psi + beta L_X S psi) + R(alpha E psi + beta L_X S psi) + [L_X, alpha E + beta S] psi = 0. Vanishing on q=0 generators implies vanishing on Tot by derivation.
A.5 HPL transfer and tail. If gamma := ||h|| ( alpha ||E|| + ||beta|| ||S|| ||L_X|| ) < 1, then h_R := h sum_{m>=0} (-R h)^m converges; (iota,pi,h_R) is a contraction (Omega^*,d) ~ (Tot,D_R). A truncation at order m has tail epsilon_tail := gamma^{m+1}/(1-gamma).

Appendix B. Tile-local algorithm (precise pseudocode)
Input: G-buffer per tile (P,N,Z,rho), caps, LUTs. Output: color and optional JVP/VJP/HVP via D_R substitution.

1. alias = BuildAliasSets2x2(K_light)
2. for each tile T:
   Lset = alias[T]
   direct = ShadeDirect(P_T,N_T,Lset)
   direct = EAW5(direct; sigma_n, sigma_z, sigma_s)
   direct = MSM_LUT16(direct)
   (ssr,hit) = SSR_Deterministic(direct; K_ssr, K_bin, jitter8, thickness(N·V))
   env = EnvGradient(); spec = EnvSpecLUT(N.z)
   color_T = hit ? ssr : Mix(env, spec)
3. for each tile T:
   g = mean_{4-nbr} mean( |Z_T - Z_nbr| / (Z_T + eps) )
   beta = (g > tau_z) ? beta_high : 0.5*beta_high
   color_T = (1-beta)*color_T + beta * avg_{nbr in N(T)} color_nbr
4. optional: color = EMA(color; half_life) -> TAA_Clamp8(color)
5. GI = ProbeGI(color; M_probe); color = 0.8*color + 0.2*GI
6. color = Atrous3(color; passes=svgf_passes)
7. Tone map + sRGB

Appendix C. Symbols and constants
delta_tot sign-stable Cech lift (-1)^p * delta
D := d + delta_tot
R degree-1 Robin transmission derivation
D_R := D + R
J_a incidence action; partial_inc defined by [delta, J_a] = J_{partial_inc a}
gamma smallness parameter; m truncation order; epsilon_tail truncation error
tau tile side; T = tau^2 pixels/tile
K_light, K_ssr, K_bin, K_nb, M_probe, svgf_passes fixed caps
MSM_LUT(16), TAA_LUT(8), ENV_EXP(8) fixed tables
